#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
Script de comparaÃ§Ã£o entre Flask e Django
Mostra as diferenÃ§as e vantagens do Django
"""

print("=" * 70)
print("COMPARAÃ‡ÃƒO: Flask vs Django - Olhar LiterÃ¡rio")
print("=" * 70)
print()

print("ğŸ“Š ESTRUTURA DE DADOS")
print("-" * 70)
print()
print("FLASK (SQLite manual):")
print("  âŒ SQL manual (CREATE TABLE, INSERT, SELECT)")
print("  âŒ Sem validaÃ§Ã£o automÃ¡tica")
print("  âŒ Sem migraÃ§Ãµes (alteraÃ§Ãµes difÃ­ceis)")
print("  âŒ Sem painel admin")
print()
print("DJANGO (ORM + Admin):")
print("  âœ… Models Python (orientado a objetos)")
print("  âœ… ValidaÃ§Ã£o automÃ¡tica de dados")
print("  âœ… MigraÃ§Ãµes automÃ¡ticas (makemigrations/migrate)")
print("  âœ… Painel admin completo e customizÃ¡vel")
print()

print("ğŸ” AUTENTICAÃ‡ÃƒO")
print("-" * 70)
print()
print("FLASK:")
print("  âŒ Sistema de usuÃ¡rios manual")
print("  âŒ Hash de senha implementado manualmente")
print("  âŒ GestÃ£o de tokens manual")
print("  âŒ Sem controle de permissÃµes")
print()
print("DJANGO:")
print("  âœ… Sistema de usuÃ¡rios integrado")
print("  âœ… Hash de senha automÃ¡tico e seguro")
print("  âœ… Tokens gerenciados pelo ORM")
print("  âœ… Sistema de permissÃµes e grupos")
print()

print("ğŸ“ COMENTÃRIOS E REVIEWS")
print("-" * 70)
print()
print("FLASK:")
print("""
    cur.execute('''INSERT INTO comments 
                   (user_id, book_title, comment, rating, created_at) 
                   VALUES (?,?,?,?,?)''', 
                (user_id, title, text, rating, datetime.now()))
""")
print()
print("DJANGO:")
print("""
    Comment.objects.create(
        user=user,
        book_title=title,
        comment=text,
        rating=rating
    )
""")
print("  âœ… Mais limpo e pythÃ´nico")
print("  âœ… ValidaÃ§Ã£o automÃ¡tica")
print("  âœ… Timestamps automÃ¡ticos")
print()

print("ğŸ” CONSULTAS")
print("-" * 70)
print()
print("FLASK:")
print("""
    cur.execute('''SELECT c.*, u.nome 
                   FROM comments c 
                   LEFT JOIN users u ON u.id=c.user_id 
                   WHERE book_title=? 
                   ORDER BY created_at DESC''', (book,))
""")
print()
print("DJANGO:")
print("""
    Comment.objects.filter(book_title=book)\\
                   .select_related('user')\\
                   .order_by('-created_at')
""")
print("  âœ… Mais legÃ­vel")
print("  âœ… ProteÃ§Ã£o contra SQL injection")
print("  âœ… Cache automÃ¡tico")
print()

print("ğŸ¨ PAINEL ADMIN")
print("-" * 70)
print()
print("FLASK:")
print("  âŒ NÃ£o existe (precisa implementar do zero)")
print()
print("DJANGO:")
print("  âœ… Admin automÃ¡tico em /admin")
print("  âœ… CRUD completo para todos os models")
print("  âœ… Filtros, busca, paginaÃ§Ã£o")
print("  âœ… CustomizÃ¡vel com poucas linhas")
print()

print("ğŸ“ˆ ESCALABILIDADE")
print("-" * 70)
print()
print("FLASK:")
print("  âš ï¸ SQLite (limitado a ~100k registros)")
print("  âš ï¸ DifÃ­cil migrar para PostgreSQL/MySQL")
print("  âš ï¸ Sem cache integrado")
print()
print("DJANGO:")
print("  âœ… Suporta PostgreSQL, MySQL, Oracle, etc")
print("  âœ… MigraÃ§Ã£o de banco fÃ¡cil (muda 3 linhas)")
print("  âœ… Sistema de cache integrado")
print("  âœ… Suporte a mÃºltiplos bancos")
print()

print("ğŸ§ª TESTES")
print("-" * 70)
print()
print("FLASK:")
print("  âš ï¸ Testes manuais com unittest")
print("  âš ï¸ Precisa mockar banco de dados")
print()
print("DJANGO:")
print("  âœ… TestCase com banco de teste automÃ¡tico")
print("  âœ… Client de teste integrado")
print("  âœ… Fixtures e factories")
print()

print("ğŸ“¦ TAMANHO DO CÃ“DIGO")
print("-" * 70)
print()
print("FLASK (server.py): ~250 linhas")
print("  - SQL manual")
print("  - ValidaÃ§Ãµes manuais")
print("  - GestÃ£o de tokens manual")
print()
print("DJANGO (models + views): ~200 linhas")
print("  + Admin grÃ¡tis")
print("  + MigraÃ§Ãµes automÃ¡ticas")
print("  + Sistema de usuÃ¡rios completo")
print()

print("ğŸ’° CUSTO DE MANUTENÃ‡ÃƒO")
print("-" * 70)
print()
print("FLASK:")
print("  - Adicionar campo: SQL ALTER TABLE manual + cÃ³digo")
print("  - Mudar validaÃ§Ã£o: Revisar todo o cÃ³digo")
print("  - Novo banco: Reescrever queries")
print()
print("DJANGO:")
print("  - Adicionar campo: 1 linha no model + migrate")
print("  - Mudar validaÃ§Ã£o: 1 linha no model")
print("  - Novo banco: 3 linhas no settings.py")
print()

print("ğŸ¯ CONCLUSÃƒO")
print("=" * 70)
print()
print("O Django oferece:")
print("  âœ… Menos cÃ³digo")
print("  âœ… Mais seguranÃ§a")
print("  âœ… Melhor manutenibilidade")
print("  âœ… Painel admin profissional")
print("  âœ… Escalabilidade")
print("  âœ… Comunidade e documentaÃ§Ã£o")
print()
print("Perfeito para projetos que crescerÃ£o! ğŸš€")
print()
print("=" * 70)
